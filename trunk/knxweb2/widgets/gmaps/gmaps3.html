<!DOCTYPE html>
<html>
<head>
	<title>Google maps API</title>
	<style type="text/css">
		html,
		body {
			height: 100% ;
			margin: 0px 0px 0px 0px ;
			overflow: hidden ;
			padding: 0px 0px 0px 0px ;
			width: 100% ;
	        }

		#mapContainer {
			height: 100% ;
			width: 100% ;
		}

	</style>
	<!--- Include jQuery and Google Map scripts. --->
	<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.4.2/jquery.min.js"></script>
	<script type="text/javascript" src="http://maps.google.com/maps/api/js?sensor=false"></script>
</head>

<body>
	<div id="mapContainer">
		<!-- This is where Google map will go. --->
	</div>

	<!--
		Now that we have defined our map container, we should be
		able to immediately load our Google Map.
	-->

	<script type="text/javascript">
		// Get the map container node.
		var mapContainer = $( "#mapContainer" );

		// Create the new Goole map controller using our
		// map (pass in the actual DOM object). Center it
		// above the first Geolocated IP address.

		map = new google.maps.Map(
			mapContainer[ 0 ],
			{
				zoom: 18,
				center: new google.maps.LatLng(
					0, 0
				),
				mapTypeId: google.maps.MapTypeId.ROADMAP
			}
		);

		// I add a marker to the map using the given latitude
		// and longitude location.

	        window.addMarker = function( latitude, longitude, label, center ){
			// Create the marker - this will automatically place it
			// on the existing Google map (that we pass-in).
			var marker = new google.maps.Marker({
				map: map,
				position: new google.maps.LatLng(
					latitude,
					longitude
				),
				title: (label || "")
			});

                        if (center)
                                map.setCenter(marker.getPosition());

			// Return the new marker reference.

			return( marker );
		};

		// I update the marker's position and label.
		function updateMarker( marker, latitude, longitude, label ){
			// Update the position.
			marker.setPosition(
				new google.maps.LatLng(
					latitude,
					longitude
				)
			);

			// Update the title if it was provided.
			if (label){
				marker.setTitle( label );
			}

                        if (center)
                                map.setCenter(marker.getPosition());
		}

//addMarker(51.252045, 4.50261, "My location", true);
	</script>
</body>
</html>
